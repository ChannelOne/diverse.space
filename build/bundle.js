!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=THREE},function(e,t,n){"use strict";function i(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}t.getRandomInt=i},function(e,t,n){"use strict";var i=n(0),o=n(4),s=n(6),a=n(3),r=n(5),h=n(1),c=function(){function e(){var e=this;this._comets=[],this._traces=[],this._staticRotationX=i.Math.degToRad(2),this._countDelta=0,this._scene=new i.Scene,this._camera=new i.PerspectiveCamera(36.88,window.innerWidth/window.innerHeight,.1,1e3),this._camera.rotation.x=this._staticRotationX,this._camera.position.x=0,this._camera.position.y=13,this._camera.position.z=54.82,this._renderer=new i.WebGLRenderer,this._renderer.setSize(window.innerWidth,window.innerHeight),this.addSphere(),this._cloud=new a.Cloud(function(t){t.forEach(function(t){e._scene.add(t)})}),this._halo=new r.Halo(function(t){e._scene.add(t),e.addLight()});for(var t,n=h.getRandomInt(5,10),s=0;s<n;s++)t=0===s?new o.Comet(!0):new o.Comet(!1),this._comets.push(t),this._scene.add(t.getObject());this._last_time=new Date,this.addBackground(),window.addEventListener("mousemove",function(t){e.handleMouseMove(t)}),setTimeout(function(){e.render()},5)}return e.prototype.handleMouseMove=function(e){var t={x:window.innerWidth/2,y:window.innerHeight/2},n={x:e.screenX,y:e.screenY},i={x:n.x-t.x,y:n.y-t.y};this._camera.rotation.x=this._staticRotationX+i.y/window.innerHeight*.025,this._camera.rotation.y=i.x/window.innerWidth*.025},e.prototype.addSphere=function(){var e=new i.BoxBufferGeometry(1e3,500,500),t=new i.MeshStandardMaterial({color:2712982,roughness:.86,metalness:.66});t.side=i.BackSide,t.shading=i.SmoothShading;var n=new i.Mesh(e,t);this._scene.add(n)},e.prototype.loadImage=function(e){var t=this,n=new i.TextureLoader;n.load("/assets/images/cloud-"+e+".png",function(n){var o=new i.PlaneBufferGeometry(120,15),s=new i.MeshStandardMaterial({map:n,roughness:.46,metalness:0,alphaTest:.2,blending:i.AdditiveBlending});s.opacity=.8;var a=new i.Mesh(o,s);a.position.z=(e-1)*-15,t._scene.add(a)})},e.prototype.addBackground=function(){var e=this,t=new i.TextureLoader;t.load("/assets/images/cloud-t1.png",function(t){var n=new i.PlaneBufferGeometry(1200,230),o=new i.MeshStandardMaterial({map:t,blending:i.AdditiveBlending,transparent:!0});o.opacity=.75;var s=new i.Mesh(n,o);s.position.y=10,s.position.z=-185,e._scene.add(s)})},e.prototype.addPlane=function(e){var t=new i.PlaneBufferGeometry(170,40),n=new i.MeshStandardMaterial({color:487550,roughness:.46,metalness:0}),o=new i.Mesh(t,n);o.position.z=e,this._scene.add(o)},e.prototype.addLight=function(){var e=new i.PointLight;e.position.x=0,e.position.y=80,e.position.z=50.22,e.intensity=1,e.decay=1;var t=new i.SpotLight;t.position.x=0,t.position.y=15,t.position.z=180,t.intensity=.38,t.penumbra=.55,t.angle=.22,t.target=this._halo.getObjects(),this._scene.add(e),this._scene.add(t)},e.prototype.appendTo=function(e){e.appendChild(this._renderer.domElement)},e.prototype.render=function(){var e=this;window.requestAnimationFrame(function(){e.render()});var t=new Date,n=.001*(t.getTime()-this._last_time.getTime());if(this._last_time=t,this._countDelta>1)this._comets.forEach(function(t){var n=new s.Trace(t.getObject().position,t.isMain);e._traces.push(n),e._scene.add(n.getObject())}),this._countDelta=0;else{var i=[];this._traces.forEach(function(e,t){e.update(n),e.getObject().position.y<-10&&i.push(t)});for(var o=i.length-1;o>=0;o--){var a=i[o];this._scene.remove(this._traces[a].getObject()),this._traces.splice(a,1)}this._countDelta+=n}this._cloud.update(n),this._comets.forEach(function(e){e.update(n)}),this._renderer.render(this._scene,this._camera)},e}();t.MyScene=c},function(e,t,n){"use strict";var i=n(0),o=n(1),s=function(){function e(e){this._mashes=[],this._textures=[],this.loadImage(1),this.loadImage(2),this.loadImage(3),this._callback=e}return e.prototype.loadOne=function(){3===this._textures.length&&this.allTextureLoaded()},e.prototype.loadImage=function(e){var t=this,n=new i.TextureLoader;n.load("/assets/images/cloud-"+e+".png",function(e){t._textures.push(e),t.loadOne()})},e.prototype.allTextureLoaded=function(){for(var e=0;e<20;e++)for(var t=e*-15,n=0;n<5;n++){var s=new i.PlaneBufferGeometry(120,15),a=new i.MeshStandardMaterial({map:this._textures[o.getRandomInt(0,2)],roughness:.46,metalness:0,alphaTest:.2,blending:i.AdditiveBlending});a.opacity=.8;var r=new i.Mesh(s,a);r.position.z=t+2*n,r.position.x=o.getRandomInt(-100,100),this._mashes.push(r)}this._callback&&this._callback(this._mashes)},e.prototype.getObjects=function(){return[]},e.prototype.update=function(e){},e}();t.Cloud=s},function(e,t,n){"use strict";var i=n(0),o=n(1),s=function(){function e(e){void 0===e&&(e=!0),this._isMain=e;var t,n;this._isMain?(n=new i.MeshBasicMaterial,t=new i.SphereBufferGeometry(1,32,16)):(n=new i.MeshBasicMaterial({color:12566463}),t=new i.SphereBufferGeometry(.65,32,16)),this._mesh=new i.Mesh(t,n),this._isMain?(this._mesh.position.x=30.15,this._mesh.position.y=100.42,this._mesh.position.z=-135):(this._mesh.position.x=o.getRandomInt(-30,60),this._mesh.position.y=o.getRandomInt(100,130),this._mesh.position.z=o.getRandomInt(-135,-160)),this._velocity={x:-1,y:-2.3,z:0}}return Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMain",{get:function(){return this._isMain},enumerable:!0,configurable:!0}),e.prototype.getObject=function(){return this._mesh},e.prototype.update=function(e){this._mesh.position.x+=this._velocity.x*e,this._mesh.position.y+=this._velocity.y*e,this._mesh.position.z+=this._velocity.z*e},e}();t.Comet=s},function(e,t,n){"use strict";var i=n(0),o=function(){function e(e){var t=this;this._mesh=null;var n=new i.TextureLoader;n.load("/assets/images/halo.png",function(n){t._texture=n;var o=new i.CircleBufferGeometry(88,64,16),s=new i.MeshStandardMaterial({map:t._texture,blending:i.AdditiveBlending,opacity:.52,transparent:!0,alphaTest:0});t._mesh=new i.Mesh(o,s),t._mesh.position.x=-43.37,t._mesh.position.y=15,t._mesh.position.z=-180,e&&e(t._mesh)})}return e.prototype.getObjects=function(){return this._mesh},e.prototype.update=function(e){},e}();t.Halo=o},function(e,t,n){"use strict";var i=n(0),o=function(){function e(e,t){void 0===t&&(t=!0),this._isMain=t,this._velocity={x:-.5,y:-1.15,z:0};var n=new i.PlaneBufferGeometry(.8,10);if(this._isMain)var o=new i.MeshBasicMaterial;else var o=new i.MeshBasicMaterial({color:12566463});this._mesh=new i.Mesh(n,o),this._mesh.position.x=e.x-5*this._velocity.x,this._mesh.position.y=e.y-5*this._velocity.y,this._mesh.position.z=e.z-5*this._velocity.z,this._mesh.rotation.z=Math.atan2(this._velocity.y,this._velocity.x)+Math.PI/2}return e.prototype.getObject=function(){return this._mesh},e.prototype.update=function(e){this._mesh.position.x+=this._velocity.x*e,this._mesh.position.y+=this._velocity.y*e,this._mesh.position.z+=this._velocity.z*e},e}();t.Trace=o},function(e,t,n){"use strict";function i(){(new s.MyScene).appendTo(a),o=document.createElement("audio");var e=document.createElement("source");e.type="audio/mpeg",e.src="/assets/audios/bgm.mp3",o.appendChild(e),document.body.appendChild(o),o.play()}var o,s=n(2),a=document.getElementById("my-canvas");window.addEventListener("resize",function(e){for(document.body.removeChild(o),o=null;a.lastChild;)a.removeChild(a.lastChild);i()}),i()}]);