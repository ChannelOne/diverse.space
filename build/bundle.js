!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=THREE},function(e,t,i){"use strict";function n(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}t.getRandomInt=n},function(e,t,i){"use strict";var n=i(0),o=i(4),s=i(6),r=i(3),a=i(5),h=i(1),c=function(){function e(){var e=this;this._comets=[],this._traces=[],this._staticRotationX=n.Math.degToRad(2),this._countDelta=0,this._scene=new n.Scene,this._camera=new n.PerspectiveCamera(36.88,window.innerWidth/window.innerHeight,.1,2e6),this._camera.rotation.x=this._staticRotationX,this._camera.position.x=0,this._camera.position.y=13,this._camera.position.z=54.82,this._renderer=new n.WebGLRenderer,this._renderer.setSize(window.innerWidth,window.innerHeight),this._sky=new a.Sky,this._sky.getObjects().forEach(function(t){e._scene.add(t)}),this._cloud=new r.Cloud(function(t){t.forEach(function(t){e._scene.add(t)})}),this.addLight();for(var t,i=h.getRandomInt(5,10),s=0;s<i;s++)t=0===s?new o.Comet(!0):new o.Comet(!1),this._comets.push(t),this._scene.add(t.getObject());this._last_time=new Date,this.addBackground(),window.addEventListener("mousemove",function(t){e.handleMouseMove(t)}),setTimeout(function(){e.render()},5)}return e.prototype.handleMouseMove=function(e){var t={x:window.innerWidth/2,y:window.innerHeight/2},i={x:e.screenX,y:e.screenY},n={x:i.x-t.x,y:i.y-t.y};this._camera.rotation.x=this._staticRotationX+n.y/window.innerHeight*.025,this._camera.rotation.y=n.x/window.innerWidth*.025},e.prototype.addSphere=function(){var e=new n.BoxBufferGeometry(1e3,500,500),t=new n.MeshStandardMaterial({color:2712982,roughness:.86,metalness:.66});t.side=n.BackSide,t.shading=n.SmoothShading;var i=new n.Mesh(e,t);this._scene.add(i)},e.prototype.loadImage=function(e){var t=this,i=new n.TextureLoader;i.load("/assets/images/cloud-"+e+".png",function(i){var o=new n.PlaneBufferGeometry(120,15),s=new n.MeshStandardMaterial({map:i,roughness:.46,metalness:0,alphaTest:.2,blending:n.AdditiveBlending});s.opacity=.8;var r=new n.Mesh(o,s);r.position.z=(e-1)*-15,t._scene.add(r)})},e.prototype.addBackground=function(){var e=this,t=new n.TextureLoader;t.load("/assets/images/cloud-t1.png",function(t){var i=new n.PlaneBufferGeometry(1200,210),o=new n.MeshStandardMaterial({map:t,blending:n.AdditiveBlending,transparent:!0});o.opacity=.75;var s=new n.Mesh(i,o);s.position.y=92,s.position.z=-185,e._scene.add(s)})},e.prototype.addPlane=function(e){var t=new n.PlaneBufferGeometry(170,40),i=new n.MeshStandardMaterial({color:487550,roughness:.46,metalness:0}),o=new n.Mesh(t,i);o.position.z=e,this._scene.add(o)},e.prototype.addLight=function(){var e=new n.SpotLight;e.position.x=0,e.position.y=13,e.position.z=60,e.penumbra=.5,e.angle=Math.PI/2.2,e.intensity=.56;var t=new n.SpotLight;t.position.x=0,t.position.y=13,t.position.z=60,t.intensity=.24,t.penumbra=.87,t.angle=.425,t.target=this._sky.getObjects()[1],e.target=this._sky.getObjects()[1],this._scene.add(e),this._scene.add(t)},e.prototype.appendTo=function(e){e.appendChild(this._renderer.domElement)},e.prototype.render=function(){var e=this;window.requestAnimationFrame(function(){e.render()});var t=new Date,i=.001*(t.getTime()-this._last_time.getTime());if(this._last_time=t,this._countDelta>1)this._comets.forEach(function(t){var i=new s.Trace(t.getObject().position,t.isMain);e._traces.push(i),e._scene.add(i.getObject())}),this._countDelta=0;else{var n=[];this._traces.forEach(function(e,t){e.update(i),e.getObject().position.y<-10&&n.push(t)});for(var o=n.length-1;o>=0;o--){var r=n[o];this._scene.remove(this._traces[r].getObject()),this._traces.splice(r,1)}this._countDelta+=i}this._cloud.update(i),this._comets.forEach(function(e){e.update(i)}),this._renderer.render(this._scene,this._camera)},e}();t.MyScene=c},function(e,t,i){"use strict";var n=i(0),o=i(1),s=function(){function e(e){this._mashes=[],this._textures=[],this.loadImage(1),this.loadImage(2),this.loadImage(3),this._callback=e}return e.prototype.loadOne=function(){3===this._textures.length&&this.allTextureLoaded()},e.prototype.loadImage=function(e){var t=this,i=new n.TextureLoader;i.load("/assets/images/cloud-"+e+".png",function(e){t._textures.push(e),t.loadOne()})},e.prototype.allTextureLoaded=function(){for(var e=0;e<32;e++)for(var t=e*-22,i=0;i<20;i++){var s=new n.PlaneBufferGeometry(120,15),r=new n.MeshStandardMaterial({map:this._textures[o.getRandomInt(0,2)],roughness:.46,metalness:0,alphaTest:.2,blending:n.AdditiveBlending});r.opacity=.8;var a=new n.Mesh(s,r);a.position.z=t+1*i,a.position.x=o.getRandomInt(-390,390),this._mashes.push(a)}this._callback&&this._callback(this._mashes)},e.prototype.getObjects=function(){return[]},e.prototype.update=function(e){},e}();t.Cloud=s},function(e,t,i){"use strict";var n=i(0),o=i(1),s=function(){function e(e){void 0===e&&(e=!0),this._isMain=e;var t,i;this._isMain?(i=new n.MeshBasicMaterial,t=new n.SphereBufferGeometry(1,32,16)):(i=new n.MeshBasicMaterial({color:12566463}),t=new n.SphereBufferGeometry(.65,32,16)),this._mesh=new n.Mesh(t,i),this._isMain?(this._mesh.position.x=30.15,this._mesh.position.y=100.42,this._mesh.position.z=-135):(this._mesh.position.x=o.getRandomInt(-30,60),this._mesh.position.y=o.getRandomInt(100,130),this._mesh.position.z=o.getRandomInt(-135,-160)),this._velocity={x:-1,y:-2.3,z:0}}return Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMain",{get:function(){return this._isMain},enumerable:!0,configurable:!0}),e.prototype.getObject=function(){return this._mesh},e.prototype.update=function(e){this._mesh.position.x+=this._velocity.x*e,this._mesh.position.y+=this._velocity.y*e,this._mesh.position.z+=this._velocity.z*e},e}();t.Comet=s},function(e,t,i){"use strict";var n=i(0),o=function(){function e(){var e=n;this._psky=new e.Sky,this._sunSphere=new n.Mesh(new n.SphereBufferGeometry(2e4,16,8),new n.MeshBasicMaterial({color:16777215})),this._sunSphere.position.y=-7e5,this._sunSphere.visible=!1,this.changed()}return e.prototype.changed=function(){var e=4e5,t=(this._psky.uniforms,.49),i=.2146,n=Math.PI*(t-.5),o=2*Math.PI*(i-.5);this._sunSphere.position.x=e*Math.cos(o),this._sunSphere.position.y=e*Math.sin(o)*Math.sin(n),this._sunSphere.position.z=e*Math.sin(o)*Math.cos(n),this._psky.uniforms.sunPosition.value.copy(this._sunSphere.position)},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this._psky.uniforms},enumerable:!0,configurable:!0}),e.prototype.getObjects=function(){return[this._psky.mesh,this._sunSphere]},e}();t.Sky=o},function(e,t,i){"use strict";var n=i(0),o=function(){function e(e,t){void 0===t&&(t=!0),this._isMain=t,this._velocity={x:-.5,y:-1.15,z:0};var i=new n.PlaneBufferGeometry(.8,10);if(this._isMain)var o=new n.MeshBasicMaterial;else var o=new n.MeshBasicMaterial({color:12566463});this._mesh=new n.Mesh(i,o),this._mesh.position.x=e.x-5*this._velocity.x,this._mesh.position.y=e.y-5*this._velocity.y,this._mesh.position.z=e.z-5*this._velocity.z,this._mesh.rotation.z=Math.atan2(this._velocity.y,this._velocity.x)+Math.PI/2}return e.prototype.getObject=function(){return this._mesh},e.prototype.update=function(e){this._mesh.position.x+=this._velocity.x*e,this._mesh.position.y+=this._velocity.y*e,this._mesh.position.z+=this._velocity.z*e},e}();t.Trace=o},function(e,t,i){"use strict";function n(){(new s.MyScene).appendTo(r),o=document.createElement("audio");var e=document.createElement("source");e.type="audio/mpeg",e.src="/assets/audios/bgm.mp3",o.appendChild(e),document.body.appendChild(o),o.play()}var o,s=i(2),r=document.getElementById("my-canvas");window.addEventListener("resize",function(e){for(document.body.removeChild(o),o=null;r.lastChild;)r.removeChild(r.lastChild);n()}),n()}]);